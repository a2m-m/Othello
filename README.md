# Othello (Reversi)

ブラウザでプレイできるオセロゲームです。スマートフォンやタブレットでも快適に遊べるよう、純粋な HTML / CSS / JavaScript だけで構築し、追加のビルドステップなしで動作します。

## プロジェクト概要
- 8×8 盤でのローカル対戦をサポートします。
- 合法手ハイライト、アンドゥ、パス通知、結果表示などの基本的な対局機能を備えています。
- GitHub Pages での公開を想定した静的サイト構成です。

## 主な機能
- 盤面ロジック：合法手探索・石の反転・スコア計算を純粋関数で実装。
- 状態管理：現在の手番、履歴、設定をコントローラーで一元管理し、UI へイベント通知。
- UI：8×8 のボード、操作バー（新規ゲーム / 先手切替 / ハイライト切替 / アンドゥ）、パス・結果のダイアログ表示。
- キーボード操作：矢印キーでセルを移動し、Enter / Space で着手。フォーカスインジケーターを強化し操作状態が視認可能です。
- アクセシビリティ通知：手番変更やパスを `aria-live` 領域で読み上げます。

## 操作方法
1. 任意のセルをタップ / クリック / フォーカスして合法手を選択します。
2. ハイライトを切り替えると合法手候補が視覚的に表示 / 非表示になります。
3. アンドゥで直前 1 手を取り消せます。
4. 先手切替または新規ゲームで初期配置から再開します。

## 動作要件
- 対応ブラウザ：Safari / Chrome / Firefox / Edge の最新 2 メジャーバージョン。
- 追加のビルドステップは不要で、`index.html` をブラウザで開くだけで動作します。
- JavaScript が有効な環境で利用してください。

## アクセシビリティ
- 盤面セルはボタン要素で実装し、矢印キーでのフォーカス移動と Enter / Space での着手に対応しています。
- フォーカスリングを強調し、暗いテーマ上でも視認できるよう調整しました。
- 手番変更・パス・対局結果を `aria-live` 領域から通知し、スクリーンリーダーで状況把握が可能です。

## パフォーマンス計測 (Lighthouse)
2025-09-19 にデスクトップ Chrome の Lighthouse (Performance モード) で測定した値です。

| 指標 | 測定値 | 備考 |
| --- | --- | --- |
| Performance Score | 100 | 初期ロードのみ、ネットワーク遅延なし |
| Largest Contentful Paint | 0.8 s | 盤面描画時 |
| Total Blocking Time | 0 ms | 同期処理が短いためブロッキングなし |
| Cumulative Layout Shift | 0.00 | レイアウトシフトなし |

## 受け入れ基準チェックリスト (最終確認日: 2025-09-19)
- [x] 1. 初期配置が正しく黒白 2 個ずつ対角に配置されること。
- [x] 2. 合法手で正しく石が反転し、角や辺のケースも想定通りに動作すること。
- [x] 3. 合法手が 0 の場合に自動パスし、パス通知ダイアログが表示されること。
- [x] 4. 連続パスで対局が終了し、結果ダイアログに勝敗 / 手数 / 石数が表示され、新規ゲームで再開できること。
- [x] 5. アンドゥが直前 1 手のみ可能で、2 回目以降は受け付けないこと。
- [x] 6. スマホ・タブレット縦横でボードが正方形を維持し、スクロールなしで収まること。
- [x] 7. 合法手ハイライトの ON/OFF が切り替わり、表示状態が即時反映されること。
- [x] 8. 同一セルの多重タップや無効入力で不正着が発生しないこと。

## ディレクトリ構成
```
/
├─ index.html
├─ assets/
├─ scripts/
│  ├─ game.js
│  ├─ state.js
│  ├─ ui.js
│  └─ main.js
├─ styles/
│  └─ style.css
└─ README.md
```

## ライセンス
ライセンスは今後のタスクで決定・追記予定です。
